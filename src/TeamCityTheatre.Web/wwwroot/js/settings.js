webpackJsonp([0],{15:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return s});var r=n(27),i=n(154),c=(n.n(i),n(157)),a=n(69),l=function(){function Project(e){if(!e)throw new Error("Invalid constructor parameters: "+JSON.stringify(e));this.isArchived=e.isArchived,this.href=e.href,this.id=e.id,this.name=e.name,this.description=e.description,this.webUrl=e.webUrl,this.parentProjectId=e.parentProjectId,this.parent=void 0===e.parent?null:e.parent,this.children=void 0===e.children?[]:e.children,this.buildConfigurations=void 0===e.buildConfigurations?[]:e.buildConfigurations,this.isExpanded=void 0!==e.isExpanded&&e.isExpanded}return Project.prototype.setChildren=function(e){var t=this;this.children=e,this.children.forEach(function(e){return e.parent=t})},Project.prototype.withBuildConfigurations=function(e){return new Project(r.a({},this,{buildConfigurations:e}))},Project.prototype.expand=function(){return new Project(r.a({},this,{isExpanded:!0}))},Project.prototype.collapse=function(){return new Project(r.a({},this,{isExpanded:!1}))},Project.prototype.toggleExpandOrCollapse=function(){return this.isExpanded?this.collapse():this.expand()},Project.prototype.update=function(e){return null===e?this:this.id===e.id?e:new Project(r.a({},this,{children:this.children.map(function(t){return t.update(e)})}))},Project.prototype.hasChildren=function(){return this.children.length>0},Project.prototype.getLabel=function(){return null===this.parent?this.name:[this.parent.getLabel(),this.name].join(" / ")},Project}(),u=function(){function BuildConfiguration(e){this.id=e.id,this.name=e.name}return BuildConfiguration.fromContract=function(e){return new BuildConfiguration(e)},BuildConfiguration}(),o=function(){function View(e){this.id=e.id,this.name=e.name,this.defaultNumberOfBranchesPerTile=e.defaultNumberOfBranchesPerTile,this.tiles=e.tiles,this.isEditing=void 0!==e.isEditing&&e.isEditing}return View.prototype.withName=function(e){return new View(r.a({},this,{name:e}))},View.prototype.withDefaultNumberOfBranchesPerTile=function(e){return new View(r.a({},this,{defaultNumberOfBranchesPerTile:e}))},View.prototype.withIsEditing=function(e){return new View(r.a({},this,{isEditing:e}))},View.prototype.moveTile=function(e,t){return new View(r.a({},this,{tiles:Object(c.a)(e,t,this.tiles)}))},View.prototype.withTile=function(e){return new View(r.a({},this,{tiles:Object(a.a)(e,this.tiles)}))},View.prototype.withoutTile=function(e){return new View(r.a({},this,{tiles:this.tiles.filter(function(t){return t.id!==e.id})}))},View.fromContract=function(e){return new View({id:e.id,name:e.name,defaultNumberOfBranchesPerTile:e.defaultNumberOfBranchesPerTile,tiles:e.tiles.map(s.fromContract)})},View.newView=function(){return new View({id:Object(i.v4)(),name:"New view",defaultNumberOfBranchesPerTile:3,tiles:[],isEditing:!0})},View}(),s=function(){function Tile(e){this.id=e.id,this.label=e.label,this.buildConfigurationId=e.buildConfigurationId,this.buildConfigurationDisplayName=e.buildConfigurationDisplayName,this.isEditing=void 0!==e.isEditing&&e.isEditing}return Tile.prototype.withLabel=function(e){return new Tile(r.a({},this,{label:e}))},Tile.prototype.withIsEditing=function(e){return new Tile(r.a({},this,{isEditing:e}))},Tile.fromContract=function(e){return new Tile(e)},Tile.newTile=function(e,t){return new Tile({id:Object(i.v4)(),label:t.name,buildConfigurationId:t.id,buildConfigurationDisplayName:[e.getLabel(),t.name].join(" / ")})},Tile}()},151:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),i=n(1),c=(n.n(i),n(1)),a=(n.n(c),n(152)),l=n(281),u=n(282),o=document.getElementById("root");u.a.subscribe({next:function(e){return Object(c.render)(Object(i.createElement)(a.a,r.a({},e)),o)},error:function(e){return Object(c.render)(Object(i.createElement)(l.a,{error:e}),o)}})},152:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(1),i=(n.n(r),n(153)),c=n(165),a=n(279),l=n(280),u=function(e){var t=e.views,n=e.deleteViewRequest,u=e.selectedView,o=e.rootProject,s=e.selectedProject;return Object(r.createElement)("div",{id:"config"},Object(r.createElement)("div",{id:"views-section",className:"section row"},Object(r.createElement)("div",{className:"col-md-4"},Object(r.createElement)(i.a,{views:t,selectedView:u,deleteViewRequest:n})),Object(r.createElement)("div",{className:"col-md-8"},Object(r.createElement)(c.a,{selectedView:u}))),Object(r.createElement)("div",{id:"projects-section",className:"section row"},Object(r.createElement)("div",{className:"col-md-4"},Object(r.createElement)(a.a,{rootProject:o,selectedProject:s})),Object(r.createElement)("div",{className:"col-md-8"},Object(r.createElement)(l.a,{selectedProject:s,selectedView:u}))))}},153:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1),i=(n.n(r),n(15)),c=n(70),a=n(19),l=n(29),u=n(72),o=n(73),s=n(45),d=function(e){var t=e.views,n=e.selectedView,i=e.deleteViewRequest;return null===t?Object(r.createElement)("div",null,Object(r.createElement)("i",{className:"fa fa-spin fa-cog"})," Loading views"):Object(r.createElement)("div",{id:"views-wrapper"},Object(r.createElement)("div",{className:"panel panel-primary"},Object(r.createElement)("div",{className:"panel-heading"},Object(r.createElement)("h2",null,"Views")),Object(r.createElement)("div",{className:"panel-body"},Object(r.createElement)("div",null,Object(r.createElement)(m,null))),Object(r.createElement)(f,{views:t,selectedView:n,deleteViewRequest:i})))},b=function(){return Object(a.a)(i.d.newView())},m=function(e){return Object(r.createElement)("button",{className:"add-view-button btn btn-success",onClick:b},Object(r.createElement)("i",{className:"fa fa-plus"})," Create a new view")},f=function(e){return Object(r.createElement)("table",{id:"views-table",className:"table table-striped"},Object(r.createElement)("thead",null,Object(r.createElement)("tr",null,Object(r.createElement)("th",null,"Name"),Object(r.createElement)("th",null,"# Branches per tile"),Object(r.createElement)("th",null))),Object(r.createElement)("tbody",null,e.views.map(function(t){return Object(r.createElement)(j,{view:t,selectedView:e.selectedView,deleteViewRequest:e.deleteViewRequest})})))},j=function(e){var t=e.view,n=e.selectedView,i=e.deleteViewRequest,l=t===n,u=l?"selected":"";return Object(r.createElement)("tr",{className:"view "+u,onClick:function(){return Object(c.a)(e.view)},onDoubleClick:function(){return Object(a.a)(e.view.withIsEditing(!0))}},Object(r.createElement)("td",{className:"view-name"},Object(r.createElement)(p,{view:e.view})),Object(r.createElement)("td",{className:"view-branches-per-tile"},Object(r.createElement)(O,{view:e.view})),Object(r.createElement)("td",null,Object(r.createElement)(w,{view:t,deleteViewRequest:i})))},p=function(e){return e.view.isEditing?Object(r.createElement)("input",{type:"text",name:"view-name-input",className:"form-control",value:e.view.name,onClick:o.a,onChange:function(t){return Object(a.a)(e.view.withName(t.currentTarget.value))},onKeyUp:Object(u.a)(function(){return Object(l.a)(e.view)})}):Object(r.createElement)("span",null,e.view.name)},O=function(e){return e.view.isEditing?Object(r.createElement)("input",{type:"number",name:"view-branches-per-tile-input",className:"form-control",value:e.view.defaultNumberOfBranchesPerTile,onClick:o.a,onChange:function(t){return Object(a.a)(e.view.withDefaultNumberOfBranchesPerTile(+t.currentTarget.value))},onKeyUp:Object(u.a)(function(){return Object(l.a)(e.view)})}):Object(r.createElement)("span",null,e.view.defaultNumberOfBranchesPerTile)},w=function(e){var t=e.view,n=e.deleteViewRequest;return null!==n&&t===n?Object(r.createElement)("div",null,Object(r.createElement)("h4",null,"Are you sure?"),Object(r.createElement)(y,{view:n})," ",Object(r.createElement)(x,null)):t.isEditing?Object(r.createElement)(E,{view:e.view}):Object(r.createElement)("span",null,Object(r.createElement)(g,{view:e.view})," ",Object(r.createElement)(C,{view:e.view}))},v=function(e){return function(t){t.stopPropagation(),Object(l.a)(e)}},E=function(e){return Object(r.createElement)("button",{className:"save-view-button btn btn-success",onClick:v(e.view),title:"Save"},Object(r.createElement)("i",{className:"fa fa-check"}))},h=function(e){return function(t){t.stopPropagation(),Object(a.a)(e.withIsEditing(!0))}},g=function(e){return Object(r.createElement)("button",{className:"edit-view-button btn btn-default",onClick:h(e.view),title:"Edit"},Object(r.createElement)("i",{className:"fa fa-pencil"}))},N=function(e){return function(t){t.stopPropagation(),Object(s.d)(e)}},C=function(e){return Object(r.createElement)("button",{className:"delete-view-button btn btn-danger",onClick:N(e.view),title:"Delete"},Object(r.createElement)("i",{className:"fa fa-remove"}))},P=function(e){return function(t){t.stopPropagation(),Object(s.a)(e)}},y=function(e){var t=e.view;return Object(r.createElement)("button",{className:"confirm-delete-view-button btn btn-danger",onClick:P(t),title:"Delete"},"Yes, remove it")},V=function(e){e.stopPropagation(),Object(s.d)(null)},x=function(e){return Object(r.createElement)("button",{className:"cancel-delete-view-button btn btn-default",onClick:V,title:"Cancel"},"No, keep it")}},157:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t,n){if(e<0)throw new Error("Invalid old index: cannot be lower than 0");if(t<0)throw new Error("Invalid new index: cannot be lower than 0");if(e>=n.length)throw new Error("Invalid old index: cannot be higher than "+n.length);if(t>=n.length)throw new Error("Invalid new index: cannot be higher than "+n.length);var r=Math.min(e,t),i=Math.max(e,t);return n.map(function(c,a){return a<r||a>i?c:a===t?n[e]:t>e?n[a+1]:n[a-1]})}},165:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(27),i=n(1),c=(n.n(i),n(166)),a=(n.n(c),n(19)),l=n(29),u=n(73),o=n(72),s=function(e){return function(t){return Object(l.a)(Object(a.a)(e.moveTile(t.oldIndex,t.newIndex)))}},d=function(e){var t=e.selectedView;return null===t?Object(i.createElement)("div",null):Object(i.createElement)("div",{id:"selected-view-wrapper"},Object(i.createElement)("div",{className:"panel panel-default"},Object(i.createElement)("div",{className:"panel-heading"},Object(i.createElement)("div",{className:"panel-title"},Object(i.createElement)("h2",null,"Tiles of ",t.name))),Object(i.createElement)("div",{className:"panel-body"}),Object(i.createElement)(b,{view:t,useDragHandle:!0,axis:"y",lockAxis:"y",onSortEnd:s(t),helperClass:"tile-drag-helper"})))},b=Object(c.SortableContainer)(function(e){var t=e.view;return Object(i.createElement)("ul",{className:"tiles-list list-group"},t.tiles.map(function(e,n){return Object(i.createElement)(f,{view:t,tile:e,index:n})}))}),m=Object(c.SortableHandle)(function(){return Object(i.createElement)("div",null,Object(i.createElement)("i",{className:"fa fa-bars"}))}),f=Object(c.SortableElement)(function(e){var t=e.view,n=e.tile;return Object(i.createElement)("li",{className:"tile list-group-item",onDoubleClick:function(){return Object(a.a)(t.withTile(n.withIsEditing(!0)))}},Object(i.createElement)("div",{className:"tile-drag-handle"},Object(i.createElement)(m,null)),Object(i.createElement)("div",{className:"tile-label"},Object(i.createElement)(j,r.a({},e))),Object(i.createElement)("div",{className:"tile-build-configuration"},Object(i.createElement)(p,r.a({},e))),Object(i.createElement)("div",{className:"tile-actions"},Object(i.createElement)(O,r.a({},e))))}),j=function(e){var t=e.view,n=e.tile;return n.isEditing?Object(i.createElement)("input",{type:"text",name:"tile-label-input",className:"form-control",value:n.label,onClick:u.a,onChange:function(e){return Object(a.a)(t.withTile(n.withLabel(e.currentTarget.value)))},onKeyUp:Object(o.a)(function(){return Object(l.a)(t)}),autoFocus:!0}):Object(i.createElement)("span",null,n.label)},p=function(e){var t=e.tile;return Object(i.createElement)("span",null,t.buildConfigurationDisplayName)},O=function(e){return e.tile.isEditing?Object(i.createElement)("div",null,Object(i.createElement)(v,r.a({},e))):Object(i.createElement)("div",null,Object(i.createElement)(h,r.a({},e))," ",Object(i.createElement)(N,r.a({},e)))},w=function(e){return function(t){t.stopPropagation(),Object(l.a)(e)}},v=function(e){return Object(i.createElement)("button",{className:"save-tile-button btn btn-success",onClick:w(e.view),title:"Save"},Object(i.createElement)("i",{className:"fa fa-check"}))},E=function(e,t){return function(){return Object(a.a)(e.withTile(t.withIsEditing(!0)))}},h=function(e){var t=e.view,n=e.tile;return Object(i.createElement)("button",{className:"edit-tile-button btn btn-default",onClick:E(t,n),title:"Edit"},Object(i.createElement)("i",{className:"fa fa-pencil"}))},g=function(e,t){return function(){return Object(l.a)(Object(a.a)(e.withoutTile(t)))}},N=function(e){var t=e.view,n=e.tile;return Object(i.createElement)("button",{className:"delete-tile-button btn btn-danger",onClick:g(t,n),title:"Delete"},Object(i.createElement)("i",{className:"fa fa-remove"}))}},19:function(e,t,n){"use strict";n.d(t,"a",function(){return O}),n.d(t,"b",function(){return w}),n.d(t,"c",function(){return E});var r=n(0),i=(n.n(r),n(3)),c=(n.n(i),n(9),n(42)),a=(n.n(c),n(11)),l=(n.n(a),n(20)),u=(n.n(l),n(43)),o=(n.n(u),n(71)),s=(n.n(o),n(8)),d=(n.n(s),n(18)),b=(n.n(d),n(15)),m=n(29),f=n(69),j=n(45),p=new i.Subject,O=function(e){return p.next(e),e},w=p.merge(m.b).debug("Update view"),v=j.c.startWith({}).switchMap(function(){return r.Observable.ajax.getJSON("api/views")}).map(function(e){return e.map(b.d.fromContract)}).startWith([]).debug("Initial views"),E=v.switchMap(function(e){return w.scan(function(e,t){return Object(f.a)(t,e)},e).startWith(e)}).debug("Views")},279:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=(n.n(r),n(55)),c=n(91),a=function(e){return null===e.rootProject?Object(r.createElement)("div",null,Object(r.createElement)("i",{className:"fa fa-spin fa-cog"})," Loading projects"):Object(r.createElement)("div",{id:"projects-wrapper"},Object(r.createElement)("div",{className:"panel panel-default"},Object(r.createElement)("div",{className:"panel-heading"},Object(r.createElement)("h3",{className:"panel-title"}),Object(r.createElement)("h2",null,"Available projects")),Object(r.createElement)("div",{className:"panel-body"},Object(r.createElement)("ul",{className:"list-unstyled"},Object(r.createElement)(l,{project:e.rootProject,selectedProject:e.selectedProject})))))},l=function(e){var t=e.project,n=e.selectedProject,i=t.hasChildren()?"has-children":"";return Object(r.createElement)("li",{id:t.id,className:"project "+i},Object(r.createElement)(u,{project:t}),Object(r.createElement)(o,{project:t,selectedProject:n}),Object(r.createElement)(s,{project:t,selectedProject:n}))},u=function(e){var t=e.project.isExpanded?"fa fa-minus-circle":"fa fa-plus-circle";return Object(r.createElement)("button",{className:"toggle-children-button btn btn-xs btn-default",onClick:function(){return Object(c.b)(e.project.toggleExpandOrCollapse())}},Object(r.createElement)("i",{className:t}))},o=function(e){var t=e.project===e.selectedProject?"btn-primary":"btn-default";return Object(r.createElement)("button",{className:"project-name btn btn-xs "+t,onClick:function(){return Object(i.a)(e.project)}},e.project.name)},s=function(e){return e.project.isExpanded&&e.project.hasChildren()?Object(r.createElement)("ul",{className:"project-children"},e.project.children.map(function(t){return Object(r.createElement)(l,{project:t,selectedProject:e.selectedProject})})):null}},280:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),i=(n.n(r),n(15)),c=n(19),a=n(29),l=function(e){return null===e.selectedProject?Object(r.createElement)("div",null):null===e.selectedView?Object(r.createElement)("div",{className:"alert alert-info"},Object(r.createElement)("span",null,Object(r.createElement)("i",{className:"fa fa-info-circle"})," Please select a view")):Object(r.createElement)("div",{id:"project-details-wrapper"},Object(r.createElement)("div",{className:"panel panel-default"},Object(r.createElement)("div",{className:"panel-heading"},Object(r.createElement)("div",{className:"panel-title"},Object(r.createElement)("h2",null,e.selectedProject.getLabel()," ",Object(r.createElement)(u,{project:e.selectedProject})))),Object(r.createElement)("div",{className:"panel-body"},Object(r.createElement)(o,{project:e.selectedProject}),Object(r.createElement)(s,{project:e.selectedProject})),Object(r.createElement)(d,{project:e.selectedProject,view:e.selectedView})))},u=function(e){return Object(r.createElement)("a",{className:"btn btn-info btn-sm",target:"_blank",href:"http://vm64-teamcity-2012/project.html?projectId="+e.project.id},Object(r.createElement)("i",{className:"fa fa-globe"})," Open in TeamCity")},o=function(e){return null===e.project.description?null:Object(r.createElement)("div",{className:"well well-sm",id:"project-details-description"},e.project.description)},s=function(e){return null===e.project.buildConfigurations||e.project.buildConfigurations.length>0?null:Object(r.createElement)("div",{className:"alert alert-info"},Object(r.createElement)("span",null,Object(r.createElement)("i",{className:"fa fa-info-circle"})," This project does not have build configurations"))},d=function(e){var t=e.project,n=e.view;return null===t.buildConfigurations?Object(r.createElement)("div",{className:"panel-footer"},Object(r.createElement)("i",{className:"fa fa-spin fa-cog"})," Loading build configurations"):Object(r.createElement)("table",{className:"table table-striped"},Object(r.createElement)("thead",null,Object(r.createElement)("tr",null,Object(r.createElement)("th",null,"Name"),Object(r.createElement)("th",null))),Object(r.createElement)("tbody",null,t.buildConfigurations.map(function(e){return Object(r.createElement)(m,{buildConfiguration:e,view:n,project:t})})))},b=function(e,t,n){return function(){return Object(a.a)(Object(c.a)(t.withTile(i.c.newTile(n,e))))}},m=function(e){var t=e.buildConfiguration,n=e.view,i=e.project;return Object(r.createElement)("tr",null,Object(r.createElement)("td",null,t.name),Object(r.createElement)("td",null,Object(r.createElement)("button",{className:"btn btn-success btn-sm",onClick:b(t,n,i)},Object(r.createElement)("i",{className:"fa fa-plus"})," Add tile to ",n.name)))}},281:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1),i=(n.n(r),function(e){return Object(r.createElement)("div",{className:"alert alert-error"},Object(r.createElement)("strong",null,"Error!")," Can you make sense of this?",Object(r.createElement)("div",{className:"well well-lg"},Object(r.createElement)("h3",null,"Details"),Object(r.createElement)("pre",{dangerouslySetInnerHTML:{__html:JSON.stringify(e.error,null,2)}})))})},282:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=(n.n(r),n(9),n(65)),c=(n.n(i),n(19)),a=n(45),l=n(70),u=n(91),o=n(55),s=r.Observable.combineLatest(c.c,a.b,l.b,u.a,o.b,function(e,t,n,r,i){return{views:e,deleteViewRequest:t,selectedView:n,rootProject:r,selectedProject:i}}).debug("State")},29:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return b});var r=n(0),i=(n.n(r),n(3)),c=(n.n(i),n(11)),a=(n.n(c),n(20)),l=(n.n(a),n(44)),u=(n.n(l),n(8)),o=(n.n(u),n(9),n(15)),s=new i.Subject,d=function(e){return s.next(e)},b=s.switchMap(function(e){return r.Observable.ajax.post("api/views",e,{"Content-Type":"application/json"}).map(function(e){return e.response}).map(o.d.fromContract)}).debug("Saved view").share()},45:function(e,t,n){"use strict";n.d(t,"d",function(){return d}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return j});var r=n(0),i=(n.n(r),n(3)),c=(n.n(i),n(11)),a=(n.n(c),n(20)),l=(n.n(a),n(44)),u=(n.n(l),n(8)),o=(n.n(u),n(18)),s=(n.n(o),n(9),new i.Subject),d=function(e){return s.next(e)},b=s.startWith(null),m=new i.Subject,f=function(e){return m.next(e)},j=m.switchMap(function(e){return r.Observable.ajax.delete("api/views/"+e.id).map(function(t){return e})}).debug("Deleted view").share()},55:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return m});var r=n(0),i=(n.n(r),n(3)),c=(n.n(i),n(9),n(11)),a=(n.n(c),n(20)),l=(n.n(a),n(44)),u=(n.n(l),n(8)),o=(n.n(u),n(18)),s=(n.n(o),n(15)),d=new i.Subject,b=function(e){return d.next(e)},m=d.switchMap(function(e){return r.Observable.ajax.getJSON("api/projects/"+e.id).map(function(t){return e.withBuildConfigurations(t.buildConfigurations.map(s.a.fromContract))}).startWith(null)}).debug("Selected project").startWith(null).share()},69:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){for(var n=t.slice(0),r=!1,i=0;i<n.length;i++)if(n[i].id===e.id){r=!0,n[i]=e;break}return r||n.push(e),n}},70:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var r=n(3),i=(n.n(r),n(9),n(8)),c=(n.n(i),n(19)),a=new r.Subject,l=function(e){return a.next(e)},u=a.startWith(null).switchMap(function(e){return c.b.scan(function(e,t){return null!==e&&e.id===t.id?t:e},e).startWith(e)}).debug("Selected view")},72:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(t){13==t.keyCode&&e()}}},73:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e.stopPropagation()}},9:function(e,t,n){"use strict";(function(e){var t=n(0),r=(n.n(t),n(159)),i=(n.n(r),e&&e.env&&!0),c=function(e){return i?this:this.do({next:function(e){},error:function(e){},complete:function(){}})};t.Observable.prototype.debug=c}).call(t,n(158))},91:function(e,t,n){"use strict";n.d(t,"b",function(){return O}),n.d(t,"a",function(){return v});var r=n(0),i=(n.n(r),n(3)),c=(n.n(i),n(9),n(42)),a=(n.n(c),n(11)),l=(n.n(a),n(20)),u=(n.n(l),n(43)),o=(n.n(u),n(71)),s=(n.n(o),n(8)),d=(n.n(s),n(18)),b=(n.n(d),n(15)),m=n(55),f=function(e){for(var t=e.map(function(e){return new b.b(e)}),n=0,r=t;n<r.length;n++){var i=r[n];i.setChildren(function(e){return t.filter(function(t){return t.parentProjectId===e})}(i.id))}return t},j=r.Observable.defer(function(){return r.Observable.ajax.getJSON("api/projects")}).map(f).map(function(e){return e.filter(function(e){return null===e.parentProjectId})[0]}).map(function(e){return e.expand()}).debug("Initial root project"),p=new i.Subject,O=function(e){return p.next(e)},w=p.merge(m.b).debug("Project update"),v=j.switchMap(function(e){return w.scan(function(e,t){return e.update(t)},e).startWith(e)}).debug("Projects")}},[151]);